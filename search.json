[{"title":"python爬虫介绍","url":"https://vbozhang.github.io/2021/02/02/python-crawler/basics/","content":"决定系统学习下网络爬虫，这是这个系列的第一篇，主要是爬虫相关的一些概念的介绍\n\n 网络爬虫\n 什么是网络爬虫\n网络爬虫，又被称为网页蜘蛛，网络机器人，在FOAF（FOAF，即Friend-of-a-Friend，简称FOAF。FOAF 是一种 XML/RDF 词汇表，它以计算机可读的形式描述您通常可能放在主 Web 页面上的个人信息之类的信息）社区中间，更经常的称为网页追逐者，是一种按照一定的规则，自动地抓取万维网信息的程序或者脚本，另外一些不常使用的名字还有蚂蚁、自动索引、模拟程序或者蠕虫。\n\n更通俗一点说\n爬虫就是一个探测机器，它的基本操作就是模拟人的行为去各个网站溜达，点点按钮，查查数据，或者把看到的信息背回来。就像一只虫子在一幢楼里不知疲倦地爬来爬去。\n你可以简单地想象：每个爬虫都是你的「分身」。就像孙悟空拔了一撮汗毛，吹出一堆猴子一样。\n你每天使用的百度，其实就是利用了这种爬虫技术：每天放出无数爬虫到各个网站，把他们的信息抓回来，然后化好淡妆排着小队等你来检索。\n抢票软件，就相当于撒出去无数个分身，每一个分身都帮助你不断刷新 12306 网站的火车余票。一旦发现有票，就马上拍下来，然后对你喊：土豪快来付款。\n\n 网络爬虫的分类\n根据使用场景，爬虫可以分为通用爬虫和聚焦爬虫\n\n通用爬虫：通用爬虫是搜索引擎抓取系统（百度、谷歌、搜狗等）的重要组成部分。主要是将互联网上的网页下载到本地，形成一个互联网内容的镜像备份。\n聚焦爬虫：是面向特定需求的一种网络爬虫程序，他与通用爬虫的区别在于：聚焦爬虫在实施网页抓取的时候会对内容进行筛选和处理，尽量保证只抓取与需求相关的网页信息。\n\n 为什么用python写网络爬虫\n爬虫是工具性程序，对速度和效率要求高，PHP对对线程、异步支持不是很好，并发处理能力弱；JAVA语言笨重，代码量大，重构成本高；C/C++学习和开发成本高；Python代码简洁，支持模块多，开发效率高，易于修改，适合作为开发爬虫的语言。\n http协议\nhttp协议：超文本传输协议（英文：HyperText Transfer Protocol，缩写：HTTP）是一种用于分布式、协作式和超媒体信息系统的应用层协议。HTTP是万维网的数据通信的基础。\n http工作原理\n以下是 HTTP 请求/响应的步骤：\n\n客户端连接到Web服务器\n一个HTTP客户端，通常是浏览器，与Web服务器的HTTP端口（默认为80）建立一个TCP套接字连接。例如，http://www.baidu.com。\n（注意：http协议默认端口为80，https协议默认端口为443）\n发送HTTP请求\n通过TCP套接字，客户端向Web服务器发送一个文本的请求报文，一个请求报文由请求行、请求头部、空行和请求数据4部分组成。\n服务器接受请求并返回HTTP响应\nWeb服务器解析请求，定位请求资源。服务器将资源复本写到TCP套接字，由客户端读取。一个响应由状态行、响应头部、空行和响应数据4部分组成。\n释放连接TCP连接\n若connection 模式为close，则服务器主动关闭TCP连接，客户端被动关闭连接，释放TCP连接;若connection 模式为keepalive，则该连接会保持一段时间，在该时间内可以继续接收请求;\n客户端浏览器解析HTML内容\n客户端浏览器首先解析状态行，查看表明请求是否成功的状态代码。然后解析每一个响应头，响应头告知以下为若干字节的HTML文档和文档的字符集。客户端浏览器读取响应数据HTML，根据HTML的语法对其进行格式化，并在浏览器窗口中显示。\n\n例如：在浏览器地址栏键入URL，按下回车之后会经历以下流程：\n\n浏览器向 DNS 服务器请求解析该 URL 中的域名所对应的 IP 地址;\n解析出 IP 地址后，根据该 IP 地址和默认端口 80，和服务器建立TCP连接;\n浏览器发出读取文件(URL 中域名后面部分对应的文件)的HTTP 请求，该请求报文作为 TCP 三次握手的第三个报文的数据发送给服务器;\n服务器对浏览器请求作出响应，并把对应的 html 文本发送给浏览器;\n释放 TCP连接;\n浏览器将该 html 文本并显示内容;\n\n URL\nURL的组成：\n\n\nprotocol：协议，例如：http\nhostname：主机地址，可以是域名，也可以是IP地址，例如：www.baidu.com\nport；端口,http协议默认端口是：80端口\npath:路径,网络资源在服务器中的指定路径,例如：cajn.cnki.net/xgbt，xgbt就是path\nparameter:参数,如果要向服务器传入参数，在这部分输入\nquery:查询字符串,如果需要从服务器那里查询内容，在这里编辑,例如：www.baidu.com/s?wd=python，这里的wd=python就是查询字符串\nfragment:片段,网页中可能会分为不同的片段，如果想访问网页后直接到达指定位置，可以在这部分设置\n\n例如\n\n参考：\n[1] &quot;21天搞定Python分布爬虫&quot;https://study.163.com/course/introduction/1004530011.htm\n[2] &quot;通俗的讲，网络爬虫到底是什么？&quot;知乎.史中- https://www.zhihu.com/question/24098641/answer/453634446\n[3] &quot;HTTP协议超级详解&quot;爱文飞翔https://www.cnblogs.com/an-wen/p/11180076.html\n[4]&quot;URL的组成格式&quot;wudipmdhttps://www.cnblogs.com/woodyblog/p/6005414.html\n[5]&quot;HTTP 请求方法&quot;菜鸟教程https://www.runoob.com/http/http-methods.html\n","categories":["python"],"tags":["python","http协议","网络爬虫"]}]